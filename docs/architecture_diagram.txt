EventsDC Document POC - System Architecture
============================================

┌─────────────────────────────────────────────────────────────────┐
│                        USER INTERFACE                          │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  │
│  │   Swagger UI    │  │  Streamlit UI   │  │   Direct API    │  │
│  │  (Interactive)  │  │   (Web App)     │  │    Calls       │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                    FASTAPI BACKEND                             │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  │
│  │   /ingest       │  │   /search/*     │  │     /chat       │  │
│  │  (Upload)       │  │  (Search)       │  │   (Q&A)         │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                 DOCUMENT PROCESSING LAYER                       │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  │
│  │   Text          │  │   OCR           │  │   Chunking      │  │
│  │ Extraction      │  │ (Tesseract)     │  │ (800-1200 tok)  │  │
│  │ (PDF/DOCX/PPTX) │  │                 │  │                 │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                    VECTOR DATABASE                             │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  │
│  │   ChromaDB      │  │   Embeddings    │  │   Metadata      │  │
│  │  (Storage)      │  │ (sentence-      │  │ (filename,      │  │
│  │                 │  │  transformers)  │  │  doc_id, etc)   │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                     SEARCH LAYER                               │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  │
│  │   Keyword       │  │   Vector        │  │   Hybrid        │  │
│  │   Search        │  │   Search        │  │   Search        │  │
│  │   (BM25)        │  │ (Semantic)      │  │ (Blended)       │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                      RESPONSE LAYER                            │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  │
│  │   Results       │  │   Citations     │  │   Chat          │  │
│  │   Ranking       │  │   (Source       │  │   Answers       │  │
│  │                 │  │   Links)        │  │                 │  │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘  │
└─────────────────────────────────────────────────────────────────┘

Data Flow:
==========
1. User uploads document → FastAPI receives file
2. Document processing → Extract text (with OCR if needed)
3. Text chunking → Split into 800-1200 token chunks
4. Vector embedding → Generate embeddings using sentence-transformers
5. Storage → Save to ChromaDB with metadata
6. Search/Query → User queries via keyword, vector, or hybrid search
7. Response → Return ranked results with citations

Performance:
============
- Average Response Time: 0.21 seconds
- Document Capacity: 20+ documents
- Search Accuracy: Hybrid search provides best results
- OCR Support: Tesseract for scanned PDFs
